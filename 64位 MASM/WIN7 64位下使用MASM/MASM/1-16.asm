;键盘输入一个数，转换为任意进制数

DATA SEGMENT
	TIP1 DB "THIS PROGRAM IS A Hex converter.",0AH,0DH,"$"
	TIP2 DB "PLEASE INPUT A NUMBER:$"
	TIP4 DB 0ah,0dh,"PLEASE INPUT THE Hex converter NUMBER:$"
	NUM1 DW 16 DUP(0)
	NUM2 DW 16 DUP(0)
	X DW ?
	Y DW ?
	RESA DB 16 DUP(?)
DATA ENDS
CODE SEGMENT
	ASSUME CS:CODE,DS:DATA
	S:MOV AX,DATA
	MOV DS,AX
	LEA DX,TIP1
	MOV AH,9
	INT 21H

	MOV DX,OFFSET TIP2
	LEA BX,NUM1
	CALL INPUT

	SHR SI,1
	LEA BX,NUM1
	CALL CHAG10
	MOV X,AX
	

	lea dx,tip4
	LEA BX,NUM2
	CALL INPUT

	SHR SI,1
	LEA BX,NUM2
	CALL CHAG10
	MOV Y,AX
	
	CALL OUTPUT
	MOV AH,4CH
	INT 21H

  INPUT PROC
	MOV AH,9
	INT 21H
	MOV CX,5
	MOV SI,0

	L1:mov ah,1	
	int 21h
	CMP AL,0DH

	JZ L2

	SUB AL,30H
	MOV AH,0
	MOV [BX][SI],AX
	INC SI
	INC SI
	LOOP L1
	L2:RET
  INPUT ENDP
  CHAG10 PROC
	MOV CX,SI
	MOV AX,0
	MOV SI,0
	L3:MOV DI,10
	MUL DI
	ADD AX,[BX][SI]
	INC SI
	INC SI
	LOOP L3
	RET
  CHAG10 ENDP
  
   OUTPUT PROC
	MOV AX,X
	MOV SI,0
	MOV BX,Y
	L4:MOV DX,0
	DIV BX
	CMP DL,10
	JL L5
	ADD DL,7
	L5:ADD DL,30H
	MOV RESA[SI],DL
	INC SI
	CMP AX,0
	JNZ L4
	L6:DEC SI
	MOV DL,RESA[SI]
	MOV AH,2
	INT 21H
	CMP SI,0
	JNZ L6
	RET
   OUTPUT ENDP
CODE ENDS
	END S
