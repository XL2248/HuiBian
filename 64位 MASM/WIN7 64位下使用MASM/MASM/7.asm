;实现加减乘除

DATA SEGMENT;
	TIP1 DB "PLEASE INPUT THE FIRST NUMBER:$"
	TIP2 DB 0ah,0dh,"PLEASE INPUT THE SECOND NUMBER:$"
	TIP3 DB 0ah,0dh,"PLEASE INPUT ONE OF THE OPERATORS A,B,C,D:$"
	X DW ?
	Y DW ?
	OP DB ?
	RES DW ?
DATA ENDS
CODE SEGMENT
	ASSUME CS:CODE,DS:DATA
	S
	:MOV AX,DATA
	MOV DS,AX
	
	MOV DX,OFFSET TIP1
	MOV AH,9
	INT 21H

	MOV AH,1
	INT 21H
	SUB AL,30H
	MOV AH,0
	MOV X,AX

	LEA DX,TIP2
	MOV AH,9
	INT 21H

	MOV AH,1
	INT 21H
	SUB AL,30H
	MOV AH,0
	MOV Y,AX

	LEA DX,TIP3
	MOV AH,9
	INT 21H
	MOV AH,1
	INT 21H
	MOV OP,AL


	CMP OP,'A'
	JZ L1
	CMP OP,'B'
	JZ L2
	CMP OP,'C'
	JZ L3
	CMP OP,'D'
	JZ L4

	L1:MOV AX,X
	ADD AX,Y
	MOV RES,AX
	JMP L5

	L2:MOV AX,X
	SUB AX,Y
	MOV RES,AX
	JMP L5

	L3:MOV AX,X
	MUL Y
	MOV RES,AX
	JMP L5

	L4:XOR AX,AX
	MOV AX,X
	DIV Y
	MOV RES,AX
	;JMP L5

	L5:MOV DL,AL
MOV CL,4
SHR DL,CL                   ;右移位
CMP DL,9
JNE ONE                     ;ZF＝0,转至标号处执行
ADD DL,07H

ONE:ADD DL,30H
MOV AH,02H
INT 21H
MOV DL,RES
AND DL,0FH
CMP DL,9
JNA TWO                     ;低于等于/不高于时转移
ADD DL,07H

TWO:ADD DL,30H
MOV AH,02H
INT 21H

MOV AH,4CH
INT 21H
CODE ENDS
	END S

	 
	
	